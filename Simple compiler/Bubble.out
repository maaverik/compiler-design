MAGIC
2048
0
0
0
0
0
0
START
MOV R0, 2
OUT R0
IN R0
MOV [0], R0
MOV R0, 3
OUT R0
MOV R0, [101]
MOV [101], R0
L1:
MOV R1, [101]
MOV R2, [0]
LT R1, R2
JZ R1, L2
MOV R2, 1
MOV R3, [101]
ADD R2, R3
IN R4
MOV [2], R4
MOV R2, [101]
MOV [101], R2
L2:
MOV R2, [101]
MOV [101], R2
MOV R3, [102]
MOV [102], R3
L3:
MOV R4, [101]
MOV R5, [0]
LT R4, R5
JZ R4, L4
MOV R5, [102]
MOV [102], R5
L5:
MOV R6, [102]
MOV R7, [0]
LT R6, R7
JZ R6, L6
MOV R7, [101]
MOV R8, 1
ADD R7, R8
MOV R7, [R7]
MOV R8, [102]
MOV R9, 1
ADD R8, R9
MOV R8, [R8]
GT R7, R8
JZ R7, L7
MOV R8, [104]
MOV [104], R8
MOV R9, [101]
MOV R10, 1
ADD R9, R10
MOV R11, [102]
MOV R12, 1
ADD R11, R12
MOV R11, [R11]
MOV [R9], R11
MOV R10, [102]
MOV R11, 1
ADD R10, R11
MOV R12, [104]
MOV [R10], R12
JMP L8
L7:
MOV R11, [104]
MOV [104], R11
L8:
MOV R11, [102]
MOV [102], R11
L6:
MOV R11, [101]
MOV [101], R11
L4:
MOV R11, [101]
MOV [101], R11
L9:
MOV R12, [101]
MOV R13, [0]
LT R12, R13
JZ R12, L10
MOV R13, [101]
MOV R14, 1
ADD R13, R14
MOV R13, [R13]
OUT R13
MOV R13, [101]
MOV [101], R13
L10:
HALT
